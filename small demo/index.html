<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
	<div class="container">
		<ul class="news">
			<li>123456789</li>
			<li>321654987</li>
			<li>abckskkjlk</li>
		</ul>
		<button class="change">123456</button>
	</div>
	<script type="text/javascript"></script>
	<script type="text/javascript">
		// $(".change").onclick=function (){	
		// 	var xhr = new XMLHttpRequest();
		// 	xhr.open('get',"/user");
		// 	xhr.onreadystatechange=function(){
		// 		if (xhr.readyState === 4) {
		// 			if (xhr.status === 200){
		// 				var obj = JSON.parse(xhr.responseText)
		// 				appendHtml(obj)
		// 			}
		// 		}
		// 	}
		// 	xhr.send()
		// }	
		
		// 	function appendHtml(news){
		// 		var html=""
		// 		for(var i=0;i<news.length;i++){
		// 			html+="<li>"+ news[i] + "</li>"
		// 		}
		// 		console.log(html)
		// 		$('.news').innerHTML = html
		// 	}

		// 	function $(id){
		// 		return document.querySelector(id)
		// 	}
	</script>
	<script type="text/javascript">
		// jsonp 跨域方法
		$('.change').addEventListener('click',function(){
			var script = document.createElement('script')
			script.src = 'http://index.com:8080/user?callback=appendHtml'
			document.head.appendChild(script)
			document.head.removeChild(script)
		})

			function appendHtml(news){
				var html=""
				for(var i=0;i<news.length;i++){
					html+="<li>"+ news[i] + "</li>"
				}
				console.log(html)
				$('.news').innerHTML = html
			}

		function $(id){
			return document.querySelector(id)
		}

	</script>
</body>
</html>